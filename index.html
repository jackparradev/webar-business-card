<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>AR Business Card - MVP 2026</title>

    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mind-ar@1.2.2/dist/mindar-image-aframe.prod.js"></script>

    <link rel="stylesheet" href="./src/styles.css">
</head>

<body>

    <div id="scan-overlay">
        <div class="scan-frame">
            <div class="scan-beam"></div>
            <div class="corner-br"></div>
            <div class="corner-bl"></div>
        </div>
        <p class="scan-label">Apunta a la tarjeta</p>
        <p class="scan-hint">Mantén la cámara estable</p>
    </div>

    <div id="tap-toast"></div>
    <div id="lost-indicator">⚠ Reencuadra la tarjeta</div>

    <a-scene mindar-image="imageTargetSrc: ./assets/targets/cardtest.mind;
                      autoStart: true;
                      uiScanning: no;
                      filterMinCF: 0.001;
                      filterBeta: 0.005;
                      warmupTolerance: 5;
                      missTolerance: 5;"
        color-space="sRGB"
        renderer="colorManagement: true; physicallyCorrectLights: true; alpha: true"
        vr-mode-ui="enabled: false"
        device-orientation-permission-ui="enabled: false">

        <a-assets>
            <img id="img-perfil"   src="./assets/ui/Perfil.png" />
            <img id="img-github"   src="./assets/ui/github-logo_icon-icons.com_73546.svg" />
            <img id="img-linkedin" src="./assets/ui/LINKEDIN_icon-icons.com_65488.svg" />
            <img id="img-phone"    src="./assets/ui/whatsapp-logo_icon-icons.com_57054.svg" />
            <img id="img-logo"     src="./assets/ui/dev26.png" />
        </a-assets>

        <a-camera position="0 0 0" look-controls="enabled: false">
            <a-entity cursor="fuse: false; rayOrigin: mouse;"
                      raycaster="objects: .clickable; far: 10"></a-entity>
        </a-camera>

        <a-entity mindar-image-target="targetIndex: 0" id="card-anchor">

            <!-- Ancla invisible — ratio 640x429 → 1.0 x 0.67 -->
            <a-plane id="card-base" width="1.0" height="0.67"
                position="0 0 0"
                material="opacity: 0; transparent: true">
            </a-plane>

            <!-- ═══════════════════════════════════════════
                 PANEL PERFIL — IZQUIERDA
                 Color base: #0A1F33
                 Ancho: 0.55 | Alto: 0.67
            ═══════════════════════════════════════════ -->
            <a-entity id="panel-profile" visible="false" position="0 0 -0.15">

                <a-plane width="0.55" height="1.0" color="#0A1F33"
                    material="shader: flat; opacity: 0.95; transparent: true">
                </a-plane>

                <!-- Línea derecha decorativa -->
                <a-plane width="0.004" height="0.67" color="#3AA3FF"
                    material="shader: flat; opacity: 0.7"
                    position="0.273 0 0.005">
                </a-plane>

                <!-- Círculo foto -->
                <a-circle color="#112840" radius="0.155"
                    material="shader: flat"
                    position="0 0.25 0.01">
                </a-circle>
                <a-image src="#img-perfil"
                    position="0 0.25 0.02"
                    height="0.5" width="0.5">
                </a-image>

                <!-- Nombre -->
                <a-text value="Jack Stalin" align="center"
                    position="0 -0.10 0.01"
                    color="#3AA3FF"
                    scale="0.46 0.46 0.46">
                </a-text>
                <a-text value="Parra" align="center"
                    position="0 -0.19 0.01"
                    color="#3AA3FF"
                    scale="0.46 0.46 0.46">
                </a-text>

                <!-- Cargo -->
                <a-text value="Full Stack Developer" align="center"
                    position="0 -0.29 0.01"
                    color="rgba(255,255,255,0.65)"
                    scale="0.22 0.22 0.22">
                </a-text>

            </a-entity>


            <!-- ═══════════════════════════════════════════
                 PANEL LOGO — DERECHA
                 Color base: #0A1F33
                 Ancho: 0.55 | Alto: 0.67
            ═══════════════════════════════════════════ -->
            <a-entity id="panel-logo" visible="false" position="0 0 -0.15">

                <a-plane width="0.55" height="0.67" color="#0A1F33"
                    material="shader: flat; opacity: 0.95; transparent: true">
                </a-plane>

                <!-- Línea izquierda decorativa -->
                <a-plane width="0.004" height="0.67" color="#3AA3FF"
                    material="shader: flat; opacity: 0.7"
                    position="-0.273 0 0.005">
                </a-plane>

                <!-- Logo dev26 centrado -->
                <a-image src="#img-logo"
                    position="0 0 0.02"
                    height="0.42" width="0.42">
                </a-image>

            </a-entity>


            <!-- ═══════════════════════════════════════════
                 PANEL LINKS — ABAJO
                 Sin fondo — iconos flotantes
                 Círculos: color #0A1F33, icono blanco
                 Radio: 0.11 (más grandes)
                 Separación: 0.34 entre cada uno
            ═══════════════════════════════════════════ -->
            <a-entity id="panel-links" visible="false" position="0 0 -0.15">

                <!-- ── GitHub ── -->
                <a-circle class="clickable" data-action="github"
                    position="-0.34 0 0.01" radius="0.11"
                    color="#0A1F33" segments="36">
                </a-circle>
                <!-- Icono SVG: se aplica color blanco via material color -->
                <a-image src="#img-github" class="clickable" data-action="github"
                    position="-0.34 0 0.02"
                    height="0.14" width="0.14"
                    material="color: #ffffff; shader: flat">
                </a-image>

                <!-- ── LinkedIn ── -->
                <a-circle class="clickable" data-action="linkedin"
                    position="0 0 0.01" radius="0.11"
                    color="#0A1F33" segments="36">
                </a-circle>
                <a-image src="#img-linkedin" class="clickable" data-action="linkedin"
                    position="0 0 0.02"
                    height="0.14" width="0.14"
                    material="color: #ffffff; shader: flat">
                </a-image>

                <!-- ── WhatsApp ── -->
                <a-circle class="clickable" data-action="phone"
                    position="0.34 0 0.01" radius="0.11"
                    color="#0A1F33" segments="36">
                </a-circle>
                <a-image src="#img-phone" class="clickable" data-action="phone"
                    position="0.34 0 0.02"
                    height="0.14" width="0.14"
                    material="color: #ffffff; shader: flat">
                </a-image>

            </a-entity>

        </a-entity>
    </a-scene>

    <script src="./src/overlay-orientation.js"></script>
    <script src="./src/ar-logic.js"></script>
</body>

</html>